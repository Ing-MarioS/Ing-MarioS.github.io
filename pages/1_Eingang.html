<html>
    <head>
        <meta charset="utf-8">
        <title>Waffenmuseum Suhl - AR</title>
        <meta name="viewport" content="height=device-height, initial-scale=0.1">
        <link rel="stylesheet" href="style_pages.css">
        <link rel="manifest" href="manifest.json">
        <script src="../js_files/aframe.min.js"></script>
        <script src="../js_files/aframe-ar-nft.js"></script>
        <script src="../js_files/aframe-look-at-component.min.js"></script>
        <script src="../js_files/aframe-extras.min.js"></script>
        <script src="../js_files/aframe-gui.min.js"></script>
        <script>screen.orientation.lock('portrait');</script>
    </head>

    <body>
                     
        <a-scene style='height: 100vh;' embedded arjs="trackingMethod: best" renderer="antialias: false; colorManagement: true;" > 
            
            <a-light type="ambient" intensity="1.5" color="white"></a-light>
            
            <a-marker-camera preset="hiro" zoom="1"></a-marker-camera>
            
            <a-gltf-model
                id="myFrieder"
                position="0 0 0"
                scale="0.4 0.4 0.4"
                src="../gltf/low_res/Frieder_Emb_Low_Res.gltf"
                animation-mixer="clip: NULL; clampWhenFinished: true; loop: once"
            ></a-gltf-model>
            
            <a-box
                id="myTextBox"
                position="0 2.1 0"
                scale="1.8 0.3 0.05"
                color="#000035"
                visible="false"
            ></a-box>
            
            <a-entity
                id="myText"
                text="value: Willkommen im Waffenmuseum Suhl; align: center"
                lineHeight="3.0"
                position="0 2.1 0.06"
                scale="1.5 1.5 1.0"
                width="0.4"
                height="2"
                visible="false"
            ></a-entity>
            
        </a-scene>
        
        <div style='position: fixed; bottom: 10px; width: 100%; text-align: center; z-index: 1;'>
            
            <button id="Btn_Zurueck" class="btn">&ltcc;</button>
            
            <a href="../index.html">
                <button id="Btn_Frontpage" class="btn">&#8962;</button>
            </a>
            
            <button id="Btn_Weiter" class="btn">&gtcc;</button>
            
        </div>
        
        <script>
            
            var v_Button_Zurueck = document.getElementById('Btn_Zurueck');
            var v_Button_Weiter = document.getElementById('Btn_Weiter');
            var v_myTextBox = document.getElementById('myTextBox');
            var v_myText = document.getElementById('myText');
            
            var v_myFrieder = document.getElementById('myFrieder');
            
            var count = 0;
            var count_max = 2;
            
            var opacity_low = 0.2;
            var opacity_high = 1.0;
            
            v_Button_Zurueck.setAttribute("style", "opacity: 0.2");
            
            function checkOpacity() {
   
                if(count == 1){
                    v_Button_Zurueck.setAttribute("style", "opacity: 0.2");
                    v_Button_Weiter.setAttribute("style", "opacity: 1.0");
                }
                else if(count == count_max){
                    v_Button_Zurueck.setAttribute("style", "opacity: 1.0");
                    v_Button_Weiter.setAttribute("style", "opacity: 0.2");
                }
                else{
                    v_Button_Zurueck.setAttribute("style", "opacity: 1.0");
                    v_Button_Weiter.setAttribute("style", "opacity: 1.0");
                }   
            }
            
            v_Button_Zurueck.addEventListener('click', function() {
                count--
                
                if(count == 0){
                    count = 1;
                }
                
                switch(count){
                    
                    case 1:
                        // Modelle
                        v_myFrieder.setAttribute("animation-mixer", "clip: Welcome");
                        v_myText.setAttribute("visible", true);
                        v_myText.setAttribute("text", "value: Willkommen im Waffenmuseum Suhl!");
                        v_myTextBox.setAttribute("visible", true);
                        // UI
                        checkOpacity();
                        break;
                        
                    case 2:
                        // Modelle
                        v_myFrieder.setAttribute("animation-mixer", "clip: Introduction");
                        v_myText.setAttribute("text", "value: Ich bin Frieder, die Museumsmaus und begleite euch durch die Ausstellung.");
                        v_Button_Zurueck.setAttribute("style", "opacity: opacity_high");
                        // UI
                        checkOpacity();
                        break;
                        
                }    
            });
            
            
            v_Button_Weiter.addEventListener('click', function() {
                count++
                
                if(count == count_max + 1){
                    count = count_max;
                }
                
                switch(count){
                        
                    case 1:
                        // Modelle
                        v_myFrieder.setAttribute("animation-mixer", "clip: Welcome");
                        v_myText.setAttribute("visible", true);
                        v_myText.setAttribute("text", "value: Willkommen im Waffenmuseum Suhl!");
                        v_myTextBox.setAttribute("visible", true);
                        // UI
                        checkOpacity();
                        break;
                        
                    case 2:
                        // Modelle
                        v_myFrieder.setAttribute("animation-mixer", "clip: Introduction");
                        v_myText.setAttribute("text", "value: Ich bin Frieder, die Museumsmaus und begleite euch durch die Ausstellung.");
                        v_Button_Zurueck.setAttribute("style", "opacity: opacity_high");
                        // UI
                        checkOpacity();
                        break;
                        
                }
            });

                         
        </script>
        
    </body>
</html>